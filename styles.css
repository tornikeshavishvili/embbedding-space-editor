:root { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; }
body { margin: 0; background:#0b0f14; color:#e6edf3; }

.app { display:grid; grid-template-columns: 420px 1fr; height:100vh; }
.panel { border-right: 1px solid #1f2a37; padding: 14px; overflow:auto; }
.main { padding: 14px; display:grid; grid-template-rows: auto 1fr auto; gap: 10px; }\n\n.content { display:grid; grid-template-columns: 1fr 420px; gap: 12px; min-height: 0; }\n.inspector { border:1px solid #223244; border-radius: 12px; background:#0f1620; padding: 12px; overflow:auto; min-height: 0; }\n.inspector textarea#jsonArea { min-height: 140px; }\n

h2 { margin: 10px 0; font-size: 16px; }
label { display:block; font-size: 12px; color:#9fb0c0; margin: 8px 0 4px; }

input, select, button, textarea {
  width: 100%;
  box-sizing: border-box;
  background:#0f1620;
  color:#e6edf3;
  border:1px solid #223244;
  border-radius: 10px;
  padding: 10px;
  outline: none;
}
textarea { min-height: 70px; resize: vertical; }

button { cursor:pointer; }
button:hover { border-color:#3b82f6; }

.row { display:grid; grid-template-columns: 1fr 1fr; gap: 8px; }
.row3 { display:grid; grid-template-columns: 1fr 1fr 1fr; gap: 8px; }

.muted { color:#9fb0c0; font-size: 12px; line-height: 1.3; }

.list { margin-top: 10px; border:1px solid #223244; border-radius: 12px; overflow:hidden; }
.item {
  display:grid;
  grid-template-columns: 1fr auto;
  gap: 10px;
  padding: 10px;
  border-bottom:1px solid #223244;
  background:#0f1620;
}
.item:last-child { border-bottom:none; }
.item.active { outline: 2px solid #3b82f6; outline-offset: -2px; }

.pill { font-size: 11px; padding: 2px 8px; border-radius: 999px; border: 1px solid #223244; color:#9fb0c0; }
.actions { display:flex; gap:8px; }
.actions button { width:auto; padding: 8px 10px; border-radius: 10px; }

.canvasWrap { border:1px solid #223244; border-radius: 12px; overflow:hidden; background:#0f1620; min-height: 0; }
canvas { display:block; width:100%; height:100%; }

.bar { display:grid; grid-template-columns: 1fr 1fr 1fr; gap: 8px; }
.footer { display:flex; gap: 8px; align-items:center; justify-content: space-between; }
.footer .actions { flex-wrap: wrap; }

.small { font-size: 11px; color:#9fb0c0; }
.mono { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace; }

/* --- Nearest neighbors interactive bars (as slider) --- */
#neighbors { margin-top: 6px; }

.sim-row {
  display: grid;
  grid-template-columns: 1fr 160px 56px;
  gap: 8px;
  align-items: center;
  margin-bottom: 6px;
  font-size: 12px;
}

.sim-label {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.sim-arrow {
  display: inline-block;
  width: 14px;
}

.sim-bar {
  height: 10px;
  background: #1f2a37;
  border-radius: 6px;
  overflow: hidden;
  position: relative;
  cursor: ew-resize;
  user-select: none;
}

.sim-bar-fill {
  height: 100%;
  background: #3b82f6;
  pointer-events: none;
}

.sim-bar::after {
  content: "";
  position: absolute;
  top: -3px;
  left: var(--knob-x, 50%);
  transform: translateX(-50%);
  width: 10px;
  height: 16px;
  border-radius: 6px;
  border: 1px solid #223244;
  background: #0f1620;
  pointer-events: none;
}

.sim-score {
  text-align: right;
  font-family: ui-monospace, monospace;
}

.sim-row.up .sim-bar-fill { background: #22c55e; }
.sim-row.down .sim-bar-fill { background: #ef4444; }
.sim-row.same .sim-bar-fill { background: #3b82f6; }
.sim-row.dragging { outline: 1px solid #3b82f6; border-radius: 8px; }


/* --- Layout fix: keep inspector on the right --- */
.main { min-width: 0; }
.content {
  display: grid !important;
  grid-template-columns: minmax(0, 1fr) 420px !important;
  gap: 12px;
  align-items: stretch;
  min-height: 0;
}
.canvasWrap { min-width: 0; height: 100%; }
.inspector { min-width: 0; height: 100%; }


/* --- Canvas height lock (prevent reflow-resize while dragging) --- */
.content { height: 100%; }
.canvasWrap { height: 100%; }
.inspector { overflow: auto; }
.main { overflow: hidden; }


/* New button sizing */
#newBtn { width: 100%; }

#importFiles { margin-top: 8px; }
